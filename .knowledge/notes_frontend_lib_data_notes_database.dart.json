{"is_source_file": true, "format": "Dart", "description": "This file defines a singleton class 'NotesDatabase' for managing CRUD operations on a local SQLite database of notes in a Flutter application. It includes methods for opening, querying, inserting, updating, deleting, and closing the database.", "external_files": ["package:path/path.dart", "package:sqflite/sqflite.dart", "../models/note.dart"], "external_methods": ["getDatabasesPath", "openDatabase", "Database.query", "Database.insert", "Database.update", "Database.delete", "Database.close"], "published": ["NotesDatabase"], "classes": [{"name": "NotesDatabase", "description": "A singleton class that manages access to a local SQLite database for notes, providing CRUD operations and database initialization."}], "methods": [{"name": "database", "description": "Returns a singleton instance of the opened database, opening it if necessary."}, {"name": "_openDb", "description": "Initializes and opens the database, creating necessary tables and indexes."}, {"name": "getNotes", "description": "Returns a list of all notes ordered by their last update time descending."}, {"name": "insert", "description": "Inserts a new note into the database and returns the inserted note with its assigned id."}, {"name": "update", "description": "Updates an existing note in the database identified by its id."}, {"name": "delete", "description": "Deletes a note from the database by its id."}, {"name": "close", "description": "Closes the database connection if it is open."}], "calls": ["getDatabasesPath", "openDatabase", "db.execute", "db.query", "db.insert", "db.update", "db.delete", "db.close"], "search-terms": ["NotesDatabase", "SQLite", "CRUD", "notes_app.db", "notes"], "state": 2, "file_id": 20, "knowledge_revision": 42, "git_revision": "", "hash": "8a6135e41d6bac9f015369a960222946", "format-version": 4, "code-base-name": "notes_frontend", "filename": "notes_frontend/lib/data/notes_database.dart", "revision_history": [{"42": ""}]}